/* ---------------- */
/* Custom Style for pagedreport */
/* ---------------- */

$if(document-css)$

html {
    $if(mainfont)$
    font-family: $mainfont$;
    $endif$

    $if(fontsize)$
    font-size: $fontsize$;
    $endif$

    $if(linestretch)$
    line-height: $linestretch$;
    $endif$

    color: $if(fontcolor)$$fontcolor$$else$#1a1a1a$endif$;
    background-color: $if(backgroundcolor)$$backgroundcolor$$else$transparent$endif$;
}

body {
    margin: 0 auto;
    max-width: $if(maxwidth)$$maxwidth$$else$36em$endif$;
    padding-left: $if(margin-left)$$margin-left$$else$50px$endif$;
    padding-right: $if(margin-right)$$margin-right$$else$50px$endif$;
    padding-top: $if(margin-top)$$margin-top$$else$50px$endif$;
    padding-bottom: $if(margin-bottom)$$margin-bottom$$else$50px$endif$;
    hyphens: auto;
    overflow-wrap: break-word;
    font-kerning: normal;
    color: black;
    font-size: 12pt;
}


p, h2, h3 {
    orphans: 3;
    widows: 3;
}
h2, h3, h4 {
    page-break-after: avoid;
}

p {
    margin: 1em 0;
}
a {
    color: $if(linkcolor)$$linkcolor$$else$#1a1a1a$endif$;
}
a:visited {
    color: $if(linkcolor)$$linkcolor$$else$#1a1a1a$endif$;
}

h1, h2, h3, h4, h5, h6 {
    margin-top: 1.4em;
}
h5, h6 {
    font-size: 1em;
    font-style: italic;
}
h6 {
    font-weight: normal;
}
ol, ul {
    padding-left: 1.7em;
    margin-top: 1em;
}
li > ol, li > ul {
    margin-top: 0;
}
ul > li:not(:has(> p)) > ul,
ol > li:not(:has(> p)) > ul,
ul > li:not(:has(> p)) > ol,
ol > li:not(:has(> p)) > ol {
    margin-bottom: 0;
}
ul > li:not(:has(> p)) > ul > li:has(> p),
ol > li:not(:has(> p)) > ul > li:has(> p),
ul > li:not(:has(> p)) > ol > li:has(> p),
ol > li:not(:has(> p)) > ol > li:has(> p) {
    margin-top: 1rem;
}
blockquote {
    margin: 1em 0 1em 1.7em;
    padding-left: 1em;
    border-left: 2px solid #e6e6e6;
    color: #606060;
}

/* ----- Abstract style ----- */

$if(abstract)$
div.abstract {
    margin: 2em 2em 2em 2em;
    text-align: left;
    font-size: 85%;
}
div.abstract-title {
    font-weight: bold;
    text-align: center;
    padding: 0;
    margin-bottom: 0.5em;
}
$endif$

code {
    font-family: $if(monofont)$$monofont$$else$Menlo, Monaco, Consolas, 'Lucida Console', monospace$endif$;

    $if(monobackgroundcolor)$
    background-color: $monobackgroundcolor$;
    padding: .2em .4em;
    $endif$

    font-size: 85%;
    margin: 0;
    hyphens: manual;
}
pre {
    margin: 1em 0;

    $if(monobackgroundcolor)$
    background-color: $monobackgroundcolor$;
    padding: 1em;
    $endif$

    overflow: auto;
}
pre code {
    padding: 0;
    overflow: visible;
    overflow-wrap: normal;
}
.sourceCode {
    background-color: transparent;
    overflow: visible;
}
hr {
    background-color: #1a1a1a;
    border: none;
    height: 1px;
    margin: 1em 0;
}
table {
    margin: 1em 0;
    border-collapse: collapse;
    width: 100%;
    display: block;
    font-variant-numeric: lining-nums tabular-nums;
}
table caption {
    margin-bottom: 0.75em;
}
tbody {
    margin-top: 0.5em;
    border-top: 1px solid $if(fontcolor)$$fontcolor$$else$#1a1a1a$endif$;
    border-bottom: 1px solid $if(fontcolor)$$fontcolor$$else$#1a1a1a$endif$;
}
th {
    border-top: 1px solid $if(fontcolor)$$fontcolor$$else$#1a1a1a$endif$;
    padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
    padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
    margin-bottom: 4em;
    text-align: center;
}
#TOC li {
    list-style: none;
}
#TOC ul {
    padding-left: 1.3em;
}
#TOC > ul {
    padding-left: 0;
}
#TOC a:not(:hover) {
    text-decoration: none;
}


code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex;}
div.column{flex: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
    width: 0.8em;
    margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */
    vertical-align: middle;
}

$if(quotes)$
q { quotes: "“" "”" "‘" "’"; }
$endif$

/* ----- Page size ----- */
@page {
    size: $if(pagesize)$$pagesize$$else$A4$endif$; 
}

/* ----- Sizes ----- */
/* all sizes are made relatives */

/* headers + cover */
.subtitle, .author, .date {
  font-size: 1.2rem;
}

h1 {
  font-size: 4rem;
}

h2 {
  font-size: 2rem;
}

h3 {
    font-size: 1.5rem;
}

/* text */
p,
ul,
ol, 
a {
    font-size: 1rem;
}

/* ----- Fonts ----- */
$if(headerfont)$
h1,
h2,
h3,
h4,
h5 {
    font-family: $headerfont$;
}
$endif$

/* ----- Setup first page ----- */

@page:first {
    background: $if(logo)$$logo$$endif$, $if(cover)$$cover$$else$coral$endif$;

    /* init to none */
    @top-left-corner {content: none;}
    @top-left {content: none;}
    @top-center {content: none;}
    @top-right {content: none;}
    @top-right-corner {content: none;}
  
    @left-top {content: none;}
    @left-middle {content: none;}
    @left-bottom {content: none;}
  
    @right-top {content: none;}
    @right-middle {content: none;}
    @right-bottom {content: none;}
  
    @bottom-left-corner {content: none;}
    @bottom-left {content: none;}
    @bottom-center {content: none;}
    @bottom-right {content: none;}
    @bottom-right-corner {content: none;}
}

/* ----- Setup back cover ----- */
.back-cover {
    page: back-cover;
    color: white;
    padding-top: 15cm;
  }

@page back-cover {
    margin: 0;
    background: $if(backcover)$$backcover$$else$$maincolor$$endif$;
    background-repeat: no-repeat;
    background-position: 0 0;
    background-size: cover;

    /* init to none */
    @top-left-corner {content: none;}
    @top-left {content: none;}
    @top-center {content: none;}
    @top-right {content: none;}
    @top-right-corner {content: none;}
  
    @left-top {content: none;}
    @left-middle {content: none;}
    @left-bottom {content: none;}
  
    @right-top {content: none;}
    @right-middle {content: none;}
    @right-bottom {content: none;}
  
    @bottom-left-corner {content: none;}
    @bottom-left {content: none;}
    @bottom-center {content: none;}
    @bottom-right {content: none;}
    @bottom-right-corner {content: none;}
}
  
/* ----- String variables ----- */
h1.title {
  string-set: h1-title content(text);
}

h2 {
  string-set: h2-text content(text);
}

/* ----- CSS Fragmentation ----- */
/* page breaks; aka CSS fragmentation */

.section > h1, .section > h2, .section > h3, .section > h4, .section > h5, .section > h6 {
    break-after: avoid;
}
.footnotes {
    break-before: always;
    break-after: always;
}
.figure {
    break-inside: avoid;
}

img, svg {
    max-width: 100%;
}

/* do not break captions */
caption {
    break-inside: avoid;
    break-after: avoid;
}

/* misc elements */
.subtitle span {
    font-size: .9em;
}

$endif$

/* ----- Setting up CSS variables ----- */
/* this avoid to repeat each Pandoc statement to pass to multiples CSS statements */

:root{
    --running-title-width: 2.5in;
    --screen-pages-spacing: 5mm;
    --main-color: $if(maincolor)$$maincolor$$else$coral$endif$;
    --secondary-color: $if(secondcolor)$$secondcolor$$else$lightblue$endif$;
}

/* ----- Adding external theme  ----- */
$if(theme.weasy)$
    $../css/weasy.css()$
$elseif(theme.grid)$
    $../css/grid.css()$
$elseif(theme.hazelnuts)$
    $../css/hazelnuts.css()$
$elseif(theme.windmill)$
    $../css/windmill.css()$
$endif$
